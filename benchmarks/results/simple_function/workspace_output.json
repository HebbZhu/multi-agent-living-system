{
  "plan": {
    "steps": [
      {
        "id": 1,
        "title": "Design the merge_sorted_lists function",
        "description": "Define the function signature with type hints and plan the merging logic to combine two sorted lists into one sorted list in O(n+m) time.",
        "output_field": "function_signature_and_plan"
      },
      {
        "id": 2,
        "title": "Implement the merge_sorted_lists function",
        "description": "Write the Python function code including a detailed docstring with usage examples, ensuring it merges two sorted lists efficiently.",
        "output_field": "function_code"
      },
      {
        "id": 3,
        "title": "Write pytest unit tests",
        "description": "Create 5 pytest unit tests covering normal cases, empty lists, and lists with duplicate values to verify the correctness of the function.",
        "output_field": "unit_tests"
      }
    ]
  },
  "code": "```python\nfrom typing import List\nimport pytest\n\ndef merge_sorted_lists(list1: List[int], list2: List[int]) -> List[int]:\n    \"\"\"\n    Merge two sorted lists of integers into a single sorted list.\n\n    Args:\n        list1 (List[int]): First sorted list.\n        list2 (List[int]): Second sorted list.\n\n    Returns:\n        List[int]: Merged sorted list containing all elements from list1 and list2.\n    \"\"\"\n    merged: List[int] = []\n    i, j = 0, 0\n    len1, len2 = len(list1), len(list2)\n\n    while i < len1 and j < len2:\n        if list1[i] <= list2[j]:\n            merged.append(list1[i])\n            i += 1\n        else:\n            merged.append(list2[j])\n            j += 1\n\n    # Append remaining elements if any\n    if i < len1:\n        merged.extend(list1[i:])\n    if j < len2:\n        merged.extend(list2[j:])\n\n    return merged\n\n\n# Unit tests using pytest\n\ndef test_merge_both_non_empty_sorted_lists():\n    assert merge_sorted_lists([1, 3, 5], [2, 4, 6]) == [1, 2, 3, 4, 5, 6]\n\ndef test_merge_with_empty_first_list():\n    assert merge_sorted_lists([], [1, 2, 3]) == [1, 2, 3]\n\ndef test_merge_with_empty_second_list():\n    assert merge_sorted_lists([1, 2, 3], []) == [1, 2, 3]\n\ndef test_merge_both_empty_lists():\n    assert merge_sorted_lists([], []) == []\n\ndef test_merge_lists_with_duplicates():\n    assert merge_sorted_lists([1, 2, 2, 3], [2, 3, 4]) == [1, 2, 2, 2, 3, 3, 4]\n```"
}